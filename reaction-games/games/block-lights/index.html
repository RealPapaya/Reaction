<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="方塊燈 - 測試你的反應速度與專注力">
    <title>方塊燈 | Reaction Games</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="coin-display" aria-live="polite">
        <span class="coin-label">金幣</span>
        <span class="coin-value" id="coin-balance">10,000</span>
        <span class="coin-delta" id="coin-delta"></span>
    </div>
    <div class="container">
        <!-- Header -->
        <header class="game-header">
            <a href="../../hub.html" class="btn-back">← 返回大廳</a>
            <h1>💡 方塊燈</h1>
            <p>在最短時間內點擊亮起的方塊！</p>
            <button id="btn-rules" class="btn-rules">❓ 規則</button>
        </header>

        <!-- Game Area -->
        <section class="game-area">
            <!-- Info Bar -->
            <div class="info-bar">
                <div class="info-item">
                    <span class="info-label">分數</span>
                    <span class="info-value" id="score">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">時間</span>
                    <span class="info-value" id="time">30s</span>
                </div>
                <div class="info-item" style="position: relative;">
                    <span class="info-label">連擊</span>
                    <span class="info-value combo" id="combo">0</span>
                    <span id="combo-multiplier" class="comic-burst hidden">x1.1</span>
                </div>
            </div>

            <!-- Grid Container -->
            <div id="grid-container" class="grid-container">
                <!-- 3x3 grid will be generated by JS -->
            </div>

            <!-- Controls -->
            <div class="controls">
                <button id="restart-btn" class="btn btn-secondary hidden">再玩一次</button>
            </div>

            <!-- Result -->
            <div id="result" class="result hidden">
                <h3 id="result-title">結果</h3>
                <p id="result-message"></p>
            </div>
        </section>
    </div>

    <!-- Rules Modal -->
    <div id="rules-modal" class="modal">
        <div class="modal-content card">
            <div class="modal-header">
                <h2>📜 遊戲規則</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <ol>
                    <li>點擊「開始遊戲」按鈕開始遊戲</li>
                    <li>倒數 3 秒後，遊戲正式開始</li>
                    <li>3×3 方塊網格中會<strong>同時亮起兩個方塊</strong></li>
                    <li>點擊<strong>亮起的方塊</strong>得分，方塊立即熄滅並隨機亮起新的方塊</li>
                    <li>點擊正確：<strong>+10 分</strong>，連擊 +1</li>
                    <li>點擊錯誤：<strong>-5 分</strong>，連擊歸零</li>
                    <li>在 30 秒內盡可能點擊更多方塊！</li>
                </ol>
                <div class="text-center mt-8">
                    <button class="btn btn-primary close-modal-btn">我知道了！</button>
                </div>
            </div>
        </div>
    </div>

    <script src="../../js/leaderboard-service.js"></script>
    <script src="game.js"></script>
</body>

</html>
