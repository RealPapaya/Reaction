<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="箭頭衝刺 - 30秒方向鍵節奏挑戰">
    <title>箭頭衝刺 | Reaction Games</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="game-header">
            <a href="../../hub.html" class="btn-back">← 返回大廳</a>
            <button id="btn-rules" class="btn-rules">❓ 規則</button>
            <h1>⬆️ 箭頭衝刺</h1>
            <p>30秒內按下正確的方向鍵，節奏與反應的雙重考驗！</p>
        </header>



        <!-- Game Area -->
        <section class="game-area">
            <!-- Info Bar -->
            <div class="info-bar">
                <div class="info-item">
                    <span class="info-label">分數</span>
                    <span class="info-value" id="score">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">時間</span>
                    <span class="info-value" id="time">30s</span>
                </div>
                <div class="info-item" style="position: relative;">
                    <span class="info-label">連擊</span>
                    <span class="info-value combo" id="combo">0</span>
                    <span id="combo-multiplier" class="comic-burst hidden">x1.1</span>
                </div>
            </div>

            <!-- Canvas Game Area -->
            <canvas id="game-canvas" width="400" height="600"></canvas>

            <!-- Keyboard Hint -->
            <div class="keyboard-hint">
                <div class="key-box">↑</div>
                <div class="key-box">↓</div>
                <div class="key-box">←</div>
                <div class="key-box">→</div>
            </div>

            <!-- Controls -->
            <div class="controls">
                <button id="restart-btn" class="btn btn-secondary hidden">再玩一次</button>
            </div>

            <!-- Result -->
            <div id="result" class="result hidden">
                <h3 id="result-title">時間到！</h3>
                <p id="result-message"></p>
            </div>
        </section>
    </div>

    <!-- Rules Modal -->
    <div id="rules-modal" class="modal">
        <div class="modal-content card">
            <div class="modal-header">
                <h2>📜 遊戲規則</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <ol>
                    <li>點擊「開始遊戲」開始 30 秒倒數計時</li>
                    <li>螢幕中間顯示<strong>當前箭頭</strong>與<strong>即將到來的 5 個箭頭</strong></li>
                    <li>按下與<strong>最下方（當前）箭頭</strong>相符的方向鍵（↑/↓/←/→）</li>
                    <li>正確按下：<strong>+10 分</strong>，連擊 +1，箭頭立即更新</li>
                    <li>按錯：<strong>-5 分</strong>，連擊歸零，<strong>僵直 0.5 秒</strong>（無法操作）</li>
                    <li>每 5 連擊有分數加成！</li>
                </ol>
                <div class="text-center mt-8">
                    <button class="btn btn-primary close-modal-btn">我知道了！</button>
                </div>
            </div>
        </div>
    </div>

    <script src="../../js/leaderboard-service.js"></script>
    <script src="game.js"></script>
</body>

</html>